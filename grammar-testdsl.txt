grammar org.imt.sinigaglia.renaud.Testdsl with org.eclipse.xtext.common.Terminals

generate testDsl "http://www.xtext.org/org/imt/sinigaglia/renaud/Testdsl"

Program:
	//procedures += Procedure*
	core=Core
;

Core:
	'open_browser' name=Browser
	actions += Action*
;
	
Browser:
	"chrome" | "firefox" | "safari" | "edge" | "ie";


	
Action:
	(goActions += GoAction*) |
	(selections += Selection*) 
	//(callProcedures += CallProcedure*)
;

GoAction:
	'go' name=STRING;

Selection:
	linkButtonSelection=LinkButtonSelection |
	searchfieldSelection=SearchfieldSelection |
	checkboxSelection=CheckboxSelection |
	comboboxSelection=ComboboxSelection |
	divSelection=DivSelection 
;

LinkButtonSelection:
	"LINK"|"BUTTON" typeSelection=TypeSelection '{'
		generalActions=GeneralAction |
		'click'
	'}'
;

SearchfieldSelection:
	"SEARCH_FIELD" typeSelection=TypeSelection '{'
		generalAction=GeneralAction
	'}'
;

CheckboxSelection:
	"CHECKBOX" typeSelection=TypeSelection '{'
		(generalAction=GeneralAction |
		'check' |
		'uncheck')
	'}'
;

ComboboxSelection:
	"COMBO_BOX" typeSelection=TypeSelection '{'
		(generalAction=GeneralAction |
		'select' value=STRING)
	'}'
;

DivSelection:
	"DIV" typeSelection=TypeSelection '{'
		generalAction=GeneralAction |
		'click'
	'}'
;

GeneralAction:
	setAction=SetAction |
	storeAction=StoreAction
;

StoreAction:
	'store' '()' 'in' var=Var
;

Var:
	name=STRING
;


SetAction:
	'set' attribute=Attribute':'value=STRING 
;

Element:
	"PAGE" | htmlElement=HTMLElement
;

HTMLElement:
	"SEARCH_FIELD" | "BUTTON" | "LINK" | "CHECKBOX" | "COMBO_BOX" | "DIV" | "IMAGE"
;

TypeSelection:
	(attribute=Attribute':'value=STRING |
	"PARENT" |
	"FIRST" |
	"LAST" |
	"ALL")
;

Attribute:
	("LABEL" | "ID" | "CLASS" | "ALT" | "VALUE" | "HREF" | "TITLE")
;

